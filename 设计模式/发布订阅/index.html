<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #box{
            height: 100px;
            width: 100px;
            background: #000;
        }
    </style>
</head>
<body>
    <div id="box"></div>

    <script>
        // let box = document.getElementById("box");
        // box.addEventListener("click", () => {  // 事件的本质是模块对象之间的信息通信
        //     console.log("box")   // 鼠标和页面的交互连接起来的
        // })   // 这是基本的事件，但有时候需要复杂的事件

        let ev = new Event('look', { bubbles: true, cancelable: true })  // 创建一个事件实例 事件能否被冒泡，事件能否被取消 
        // 是否可以取消：所有事件都可以取消  

        box.addEventListener("look", (e) => {  // 订阅一个事件，事件还没有发布，发布了就可以看见了 
            if (event.cancelable) {
                // console.log(e)
                event.preventDefault();  // 如果事件可以取消就取消事件
            } else {
                console.log("在box上触发了look事件")  
                }
        })   

        // let box = document.getElementById("box");
        // box.addEventListener("look", () => {  // 订阅一个事件，事件还没有发布，发布了就可以看见了 
        //     console.log("在box上触发了look事件")  
        // })   

        window.addEventListener("look", () => {
            console.log("在window上触发了look事件")   // 不需要在window上发布，它会冒泡出来，false就不行 
        })

        box.dispatchEvent(ev); //  box上发布look事件  click是因为发布在了全局，都可以绑定
        // look事件目前看到就可以执行 
        
        // 关注公众号的行为就是订阅  公共号发布消息就是发布  发布就会带来  就是一对多的关系  会有很多人都会订阅

        // vue数据源可以在页面头部，中部，尾部都用到，这就是一个发布订阅
    </script>
</body>
</html>